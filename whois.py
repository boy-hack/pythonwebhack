#!/usr/bin/env python
# coding=utf-8

"""
Function: Whois 模块
Author:   w8ay
Time:     2016年10月22日 21:12:33
"""

import socket

TLDS = [
	('.br.com', 'whois.centralnic.net', None),
	('.cn.com', 'whois.centralnic.net', None),
	('.de.com', 'whois.centralnic.net', None),
	('.eu.com', 'whois.centralnic.net', None),
	('.gb.com', 'whois.centralnic.net', None),
	('.gb.net', 'whois.centralnic.net', None),
	('.gr.com', 'whois.centralnic.net', None),
	('.hu.com', 'whois.centralnic.net', None),
	('.in.net', 'whois.centralnic.net', None),
	('.no.com', 'whois.centralnic.net', None),
	('.qc.com', 'whois.centralnic.net', None),
	('.ru.com', 'whois.centralnic.net', None),
	('.sa.com', 'whois.centralnic.net', None),
	('.se.com', 'whois.centralnic.net', None),
	('.se.net', 'whois.centralnic.net', None),
	('.uk.com', 'whois.centralnic.net', None),
	('.uk.net', 'whois.centralnic.net', None),
	('.us.com', 'whois.centralnic.net', None),
	('.uy.com', 'whois.centralnic.net', None),
	('.za.com', 'whois.centralnic.net', None),
	('.jpn.com', 'whois.centralnic.net', None),
	('.web.com', 'whois.centralnic.net', None),
	('.com', 'whois.verisign-grs.com', 'VERISIGN'),
	('.za.net', 'whois.za.net', None),
	('.net', 'whois.verisign-grs.com', 'VERISIGN'),
	('.eu.org', 'whois.eu.org', None),
	('.za.org', 'whois.za.org', None),
	('.org', 'whois.pir.org', None),
	('.edu', 'whois.educause.edu', None),
	('.gov', 'whois.dotgov.gov', None),
	('.int', 'whois.iana.org', None),
	('.mil', 'NONE', None),
	('.e164.arpa', 'whois.ripe.net', None),
	('.in-addr.arpa', None, 'ARPA'),
	('.arpa', 'whois.iana.org', None),
	('.aero', 'whois.aero', None),
	('.asia', 'whois.nic.asia', None),
	('.biz', 'whois.biz', None),
	('.cat', 'whois.cat', None),
	('.coop', 'whois.nic.coop', None),
	('.info', 'whois.afilias.net', None),
	('.jobs', 'jobswhois.verisign-grs.com', 'VERISIGN'),
	('.mobi', 'whois.dotmobiregistry.net', None),
	('.museum', 'whois.museum', None),
	('.name', 'whois.nic.name', None),
	('.post', 'whois.dotpostregistry.net', None),
	('.pro', 'whois.dotproregistry.net', None),
	('.tel', 'whois.nic.tel', None),
	('.travel', 'whois.nic.travel', None),
	('.xxx', 'whois.nic.xxx', None),
	('.ac', 'whois.nic.ac', None),
	('.ad', '', 'NONE'),
	('.ae', 'whois.aeda.net.ae', None),
	('.af', 'whois.nic.af', None),
	('.ag', 'whois.nic.ag', None),
	('.ai', 'whois.ai', None),
	('.al', '', 'NONE'),
	('.am', 'whois.amnic.net', None),
	('.an', '', 'NONE'),
	('.ao', '', 'NONE'),
	('.aq', '', 'NONE'),
	('.ar', 'http://www.nic.ar/', 'WEB'),
	('.as', 'whois.nic.as', None),
	('.priv.at', '', 'whois.nic.priv.at'),
	('.at', 'whois.nic.at', None),
	('.au', 'whois.audns.net.au', None),
	('.aw', 'whois.nic.aw', None),
	('.ax', '', 'whois.ax'),
	('.az', 'http://www.nic.az/', 'WEB'),
	('.ba', 'http://www.nic.ba/stream/whois/', 'WEB'),
	('.bb', 'http://whois.telecoms.gov.bb/search_domain.php', 'WEB'),
	('.bd', 'http://whois.btcl.net.bd/', 'WEB'),
	('.be', 'whois.dns.be', None),
	('.bf', '', 'NONE'),
	('.bg', 'whois.register.bg', None),
	('.bh', '', 'NONE'),
	('.bi', 'whois1.nic.bi', None),
	('.bj', 'whois.nic.bj', None),
	('.bm', 'http://207.228.133.14/cgi-bin/lansaweb?procfun+BMWHO+BMWHO2+WHO', 'WEB'),
	('.bn', '', 'whois.bn'),
	('.bo', 'whois.nic.bo', None),
	('.br', 'whois.registro.br', None),
	('.bs', 'http://www.nic.bs/cgi-bin/search.pl', 'WEB'),
	('.bt', 'http://www.nic.bt/', 'WEB'),
	('.bv', '', 'NONE'),
	('.by', 'whois.cctld.by', None),
	('.bw', 'whois.nic.net.bw', None),
	('.bz', 'AFILIAS', None),
	('.co.ca', 'whois.co.ca', None),
	('.ca', 'whois.cira.ca', None),
	('.cc', 'ccwhois.verisign-grs.com', 'VERISIGN'),
	('.cd', 'whois.nic.cd', None),
	('.cf', 'whois.dot.cf', None),
	('.cg', 'http://www.nic.cg/cgi-bin/whois.pl', 'WEB'),
	('.ch', 'whois.nic.ch', None),
	('.ci', 'whois.nic.ci', None),
	('.ck', 'NONE', None),
	('.cl', 'whois.nic.cl', None),
	('.cm', 'whois.netcom.cm', None),
	('.edu.cn', 'whois.edu.cn', None),
	('.cn', 'whois.cnnic.cn', None),
	('.uk.co', 'whois.uk.co', None),
	('.co', 'whois.nic.co', None),
	('.cr', 'http://www.nic.cr/niccr_publico/showRegistroDominiosScreen.do', 'WEB'),
	('.cu', 'http://www.nic.cu/', 'WEB'),
	('.cv', 'http://www.dns.cv/', 'WEB'),
	('.cw', '', 'NONE'),
	('.cx', 'whois.nic.cx', None),
	('.cy', 'http://www.nic.cy/nslookup/online_database.php', 'WEB'),
	('.cz', 'whois.nic.cz', None),
	('.de', 'whois.denic.de', None),
	('.dj', 'http://www.nic.dj/whois.php', 'WEB'),
	('.dk', 'whois.dk-hostmaster.dk', None),
	('.dm', 'whois.nic.dm', None),
	('.do', 'http://www.nic.do/whois-h.php3', 'WEB'),
	('.dz', 'whois.nic.dz', None),
	('.ec', 'whois.nic.ec', None),
	('.ee', 'whois.tld.ee', None),
	('.eg', '', 'NONE'),
	('.er', '', 'NONE'),
	('.es', 'https://www.nic.es/', 'WEB'),
	('.et', '', 'NONE'),
	('.eu', 'whois.eu', None),
	('.fi', 'whois.fi', None),
	('.fj', 'whois.usp.ac.fj', None),
	('.fk', '', 'NONE'),
	('.fm', 'http://dot.fm/whois.html', 'WEB'),
	('.fo', 'whois.nic.fo', None),
	('.fr', 'whois.nic.fr', None),
	('.ga', '', 'whois.dot.ga'),
	('.gb', 'NONE', None),
	('.gd', 'whois.nic.gd', None),
	('.ge', 'http://www.registration.ge/', 'WEB'),
	('.gf', 'https://www.dom-enic.com/whois.html', 'WEB'),
	('.gg', 'whois.gg', None),
	('.gh', 'http://www.nic.gh/customer/search_c.htm', 'WEB'),
	('.gi', 'AFILIAS', None),
	('.gl', 'whois.nic.gl', None),
	('.gm', 'http://www.nic.gm/htmlpages/whois.htm', 'WEB'),
	('.gn', '', 'NONE'),
	('.gp', 'https://www.dom-enic.com/whois.html', 'WEB'),
	('.gq', 'whois.dominio.gq', None),
	('.gr', 'https://grweb.ics.forth.gr/Whois?lang=en', 'WEB'),
	('.gs', 'whois.nic.gs', None),
	('.gt', 'http://www.gt/who_is.html', 'WEB'),
	('.gu', 'http://gadao.gov.gu/domainsearch.htm', 'WEB'),
	('.gw', '', 'NONE'),
	('.gy', 'whois.registry.gy', None),
	('.hk', 'whois.hkirc.hk', None),
	('.hm', 'whois.registry.hm', None),
	('.hn', 'whois.nic.hn', None),
	('.hr', 'whois.dns.hr', None),
	('.ht', 'whois.nic.ht', None),
	('.hu', 'whois.nic.hu', None),
	('.id', 'whois.pandi.or.id', None),
	('.ie', 'whois.domainregistry.ie', None),
	('.il', 'whois.isoc.org.il', None),
	('.im', 'whois.nic.im', None),
	('.in', '', 'whois.inregistry.net'),
	('.io', 'whois.nic.io', None),
	('.iq', '', 'whois.cmc.iq'),
	('.ir', 'whois.nic.ir', None),
	('.is', 'whois.isnic.is', None),
	('.it', 'whois.nic.it', None),
	('.je', 'whois.je', None),
	('.jm', '', 'NONE'),
	('.jo', 'http://www.dns.jo/Whois.aspx', 'WEB'),
	('.jp', 'whois.jprs.jp', None),
	('.ke', 'whois.kenic.or.ke', None),
	('.kg', 'whois.domain.kg', None),
	('.kh', '', 'NONE'),
	('.ki', 'whois.nic.mu', None),
	('.km', '', 'NONE'),
	('.kn', 'http://www.nic.kn/', 'WEB'),
	('.kp', '', 'NONE'),
	('.kr', 'whois.kr', None),
	('.kw', 'http://www.kw/', 'WEB'),
	('.ky', 'http://kynseweb.messagesecure.com/kywebadmin/', 'WEB'),
	('.kz', 'whois.nic.kz', None),
	('.la', 'whois.nic.la', None),
	('.lb', 'http://www.aub.edu.lb/lbdr/', 'WEB'),
	('.lc', 'AFILIAS', None),
	('.li', 'whois.nic.li', None),
	('.lk', 'whois.nic.lk', None),
	('.lr', '', 'NONE'),
	('.ls', 'http://www.co.ls/co.asp', 'WEB'),
	('.lt', 'whois.domreg.lt', None),
	('.lu', 'whois.dns.lu', None),
	('.lv', 'whois.nic.lv', None),
	('.ly', 'whois.nic.ly', None),
	('.ma', '', 'whois.iam.net.ma'),
	('.mc', '', 'NONE'),
	('.md', 'http://www.dns.md/wh1.php', 'WEB'),
	('.me', 'whois.nic.me', None),
	('.mg', 'whois.nic.mg', None),
	('.mh', '', 'NONE'),
	('.mk', 'whois.marnet.mk', None),
	('.ml', '', 'whois.dot.ml'),
	('.mm', '', 'NONE'),
	('.mn', 'whois.nic.mn', None),
	('.mo', 'http://www.monic.net.mo/', 'WEB'),
	('.mp', '', 'NONE'),
	('.mq', 'https://www.dom-enic.com/whois.html', 'WEB'),
	('.mr', '', 'NONE'),
	('.ms', 'whois.nic.ms', None),
	('.mt', 'https://www.nic.org.mt/dotmt/', 'WEB'),
	('.mu', 'whois.nic.mu', None),
	('.mv', '', 'NONE'),
	('.mw', 'http://www.registrar.mw/', 'WEB'),
	('.mx', 'whois.mx', None),
	('.my', 'whois.mynic.my', None),
	('.mz', 'whois.nic.mz', None),
	('.na', 'whois.na-nic.com.na', None),
	('.nc', 'whois.nc', None),
	('.ne', '', 'NONE'),
	('.nf', 'whois.nic.nf', None),
	('.ng', 'whois.nic.net.ng', None),
	('.ni', 'http://www.nic.ni/', 'WEB'),
	('.nl', 'whois.domain-registry.nl', None),
	('.no', 'whois.norid.no', None),
	('.np', 'http://register.mos.com.np/userSearchInc.asp', 'WEB'),
	('.nr', 'http://www.cenpac.net.nr/dns/whois.html', 'WEB'),
	('.nu', 'whois.iis.nu', None),
	('.nz', 'whois.srs.net.nz', None),
	('.om', 'whois.registry.om', None),
	('.pa', 'http://www.nic.pa/', 'WEB'),
	('.pe', 'kero.yachay.pe', None),
	('.pf', 'whois.registry.pf', None),
	('.pg', '', 'NONE'),
	('.ph', 'http://www.dot.ph/whois', 'WEB'),
	('.pk', 'http://www.pknic.net.pk/', 'WEB'),
	('.co.pl', '', 'whois.co.pl'),
	('.pl', 'whois.dns.pl', None),
	('.pm', 'whois.nic.pm', None),
	('.pn', 'http://www.pitcairn.pn/PnRegistry/', 'WEB'),
	('.pr', 'whois.nic.pr', None),
	('.ps', 'whois.pnina.ps', None),
	('.pt', 'whois.dns.pt', None),
	('.pw', 'whois.nic.pw', None),
	('.py', 'http://www.nic.py/consultas.html', 'WEB'),
	('.qa', 'whois.registry.qa', None),
	('.re', 'whois.nic.re', None),
	('.ro', 'whois.rotld.ro', None),
	('.rs', 'whois.rnids.rs', None),
	('.edu.ru', 'whois.informika.ru', None),
	('.ru', 'whois.tcinet.ru', None),
	('.rw', '', 'whois.ricta.org.rw'),
	('.sa', 'whois.nic.net.sa', None),
	('.sb', 'whois.nic.sb', None),
	('.sc', '', 'AFILIAS'),
	('.sd', '', 'NONE'),
	('.se', 'whois.iis.se', None),
	('.sg', 'whois.sgnic.sg', None),
	('.sh', 'whois.nic.sh', None),
	('.si', 'whois.arnes.si', None),
	('.sj', '', 'NONE'),
	('.sk', 'whois.sk-nic.sk', None),
	('.sl', 'whois.nic.sl', None),
	('.sm', 'whois.nic.sm', None),
	('.sn', 'whois.nic.sn', None),
	('.so', 'whois.nic.so', None),
	('.sr', '', 'NONE'),
	('.st', 'whois.nic.st', None),
	('.su', 'whois.tcinet.ru', None),
	('.sv', 'http://www.svnet.org.sv/', 'WEB'),
	('.sx', 'whois.sx', None),
	('.sy', 'whois.tld.sy', None),
	('.sz', '', 'NONE'),
	('.tc', 'whois.meridiantld.net', None),
	('.td', 'http://www.nic.td/', 'WEB'),
	('.tf', 'whois.nic.tf', None),
	('.tg', 'http://www.nic.tg/', 'WEB'),
	('.th', 'whois.thnic.co.th', None),
	('.tj', 'http://www.nic.tj/whois.html', 'WEB'),
	('.tk', 'whois.dot.tk', None),
	('.tl', 'whois.nic.tl', None),
	('.tm', 'whois.nic.tm', None),
	('.tn', 'whois.ati.tn', None),
	('.to', 'whois.tonic.to', None),
	('.tp', '', 'NONE'),
	('.tr', 'whois.nic.tr', None),
	('.tt', 'http://www.nic.tt/cgi-bin/search.pl', 'WEB'),
	('.tv', 'tvwhois.verisign-grs.com', 'VERISIGN'),
	('.tw', 'whois.twnic.net.tw', None),
	('.tz', 'whois.tznic.or.tz', None),
	('.biz.ua', 'whois.biz.ua', None),
	('.co.ua', 'whois.co.ua', None),
	('.pp.ua', 'whois.pp.ua', None),
	('.ua', 'whois.ua', None),
	('.ug', 'whois.co.ug', None),
	('.ac.uk', 'whois.ja.net', None),
	('.bl.uk', 'NONE', None),
	('.british-library.uk', 'NONE', None),
	('.gov.uk', 'whois.ja.net', None),
	('.icnet.uk', 'NONE', None),
	('.jet.uk', 'NONE', None),
	('.mod.uk', 'NONE', None),
	('.nhs.uk', 'NONE', None),
	('.nls.uk', 'NONE', None),
	('.parliament.uk', 'NONE', None),
	('.police.uk', 'NONE', None),
	('.uk', 'whois.nic.uk', None),
	('.fed.us', 'whois.nic.gov', None),
	('.us', 'whois.nic.us', None),
	('.com.uy', 'https://nic.anteldata.com.uy/dns/consultaWhois/whois.action', 'WEB'),
	('.uy', 'whois.nic.org.uy', None),
	('.uz', 'whois.cctld.uz', None),
	('.va', 'NONE', None),
	('.vc', 'AFILIAS', None),
	('.ve', 'whois.nic.ve', None),
	('.vg', 'whois.adamsnames.tc', None),
	('.vi', 'http://www.nic.vi/whoisform.htm', 'WEB'),
	('.vn', 'http://www.vnnic.vn/en/domain', 'WEB'),
	('.vu', 'vunic.vu', None),
	('.wf', 'whois.nic.wf', None),
	('.ws', 'whois.website.ws', None),
	('.ye', '', 'NONE'),
	('.yt', 'whois.nic.yt', None),
	('.ac.za', 'whois.ac.za', None),
	('.alt.za', 'whois.alt.za', None),
	('.co.za', 'whois.registry.net.za', None),
	('.gov.za', 'whois.gov.za', None),
	('.net.za', 'whois.net.za', None),
	('.org.za', 'http://www.org.za/', 'WEB'),
	('.web.za', 'whois.web.za', None),
	('.za', '', 'NONE'),
	('.zm', 'whois.nic.zm', None),
	('.zw', '', 'NONE'),
	('.xn--3e0b707e', '', 'whois.kr'),
	('.xn--45brj9c', '', 'whois.inregistry.net'),
	('.xn--80ao21a', '', 'whois.nic.kz'),
	('.xn--90a3ac', '', 'whois.rnids.rs'),
	('.xn--clchc0ea0b2g2a9gcd', '', 'whois.sgnic.sg'),
	('.xn--d1alf', '', 'whois.marnet.mk'),
	('.xn--fiqs8s', '', 'cwhois.cnnic.cn'),
	('.xn--fiqz9s', '', 'cwhois.cnnic.cn'),
	('.xn--fpcrj9c3d', '', 'whois.inregistry.net'),
	('.xn--fzc2c9e2c', '', 'whois.nic.lk'),
	('.xn--gecrj9c', '', 'whois.inregistry.net'),
	('.xn--h2brj9c', '', 'whois.inregistry.net'),
	('.xn--j1amh', '', 'whois.dotukr.com'),
	('.xn--j6w193g', '', 'whois.hkirc.hk'),
	('.xn--kprw13d', '', 'whois.twnic.net.tw'),
	('.xn--kpry57d', '', 'whois.twnic.net.tw'),
	('.xn--l1acc', '', 'whois.nic.mn'),
	('.xn--lgbbat1ad8j', '', 'whois.nic.dz'),
	('.xn--mgb9awbf', '', 'whois.registry.om'),
	('.xn--mgba3a4f16a', '', 'whois.nic.ir'),
	('.xn--mgbaam7a8h', '', 'whois.aeda.net.ae'),
	('.xn--mgbayh7gpa', 'http://idn.jo/whois_a.aspx', 'WEB'),
	('.xn--mgbbh1a71e', '', 'whois.inregistry.net'),
	('.xn--mgbc0a9azcg', '', 'NONE'),
	('.xn--mgberp4a5d4ar', '', 'whois.nic.net.sa'),
	('.xn--mgbx4cd0ab', '', 'whois.mynic.my'),
	('.xn--node', '', 'whois.itdc.ge'),
	('.xn--o3cw4h', '', 'whois.thnic.co.th'),
	('.xn--ogbpf8fl', '', 'whois.tld.sy'),
	('.xn--p1ai', '', 'whois.tcinet.ru'),
	('.xn--pgbs0dh', '', 'NONE'),
	('.xn--s9brj9c', '', 'whois.inregistry.net'),
	('.xn--wgbh1c', '', 'whois.dotmasr.eg'),
	('.xn--wgbl6a', '', 'whois.registry.qa'),
	('.xn--xkc2al3hye2a', '', 'whois.nic.lk'),
	('.xn--xkc2dl3a5ee0h', '', 'whois.inregistry.net'),
	('.xn--yfro4i67o', '', 'whois.sgnic.sg'),
	('.xn--ygbi2ammx', '', 'whois.pnina.ps'),
	('.abogado', 'whois.abogado', None),
	('.academy', 'whois.academy', None),
	('.accountants', 'whois.accountants', None),
	('.active', 'whois.active', None),
	('.actor', 'whois.actor', None),
	('.agency', 'whois.agency', None),
	('.airforce', 'whois.airforce', None),
	('.allfinanz', 'whois.allfinanz', None),
	('.alsace', 'whois.alsace', None),
	('.archi', 'whois.archi', None),
	('.army', 'whois.army', None),
	('.associates', 'whois.associates', None),
	('.attorney', 'whois.attorney', None),
	('.auction', 'whois.auction', None),
	('.audio', 'whois.audio', None),
	('.autos', 'whois.autos', None),
	('.axa', 'whois.axa', None),
	('.band', 'whois.band', None),
	('.bar', 'whois.bar', None),
	('.bargains', 'whois.bargains', None),
	('.bayern', 'whois.bayern', None),
	('.beer', 'whois.beer', None),
	('.berlin', 'whois.berlin', None),
	('.best', 'whois.best', None),
	('.bid', 'whois.bid', None),
	('.bike', 'whois.bike', None),
	('.bio', 'whois.bio', None),
	('.black', 'whois.black', None),
	('.blackfriday', 'whois.blackfriday', None),
	('.bloomberg', 'whois.bloomberg', None),
	('.blue', 'whois.blue', None),
	('.bmw', 'whois.bmw', None),
	('.bnpparibas', 'whois.bnpparibas', None),
	('.boo', 'whois.boo', None),
	('.boutique', 'whois.boutique', None),
	('.brussels', 'whois.brussels', None),
	('.budapest', 'whois.budapest', None),
	('.build', 'whois.build', None),
	('.builders', 'whois.builders', None),
	('.business', 'whois.business', None),
	('.buzz', 'whois.buzz', None),
	('.bzh', 'whois.bzh', None),
	('.cab', 'whois.cab', None),
	('.cal', 'whois.cal', None),
	('.camera', 'whois.camera', None),
	('.camp', 'whois.camp', None),
	('.cancerresearch', 'whois.cancerresearch', None),
	('.capetown', 'whois.capetown', None),
	('.capital', 'whois.capital', None),
	('.caravan', 'whois.caravan', None),
	('.cards', 'whois.cards', None),
	('.care', 'whois.care', None),
	('.career', 'whois.career', None),
	('.careers', 'whois.careers', None),
	('.casa', 'whois.casa', None),
	('.cash', 'whois.cash', None),
	('.catering', 'whois.catering', None),
	('.center', 'whois.center', None),
	('.ceo', 'whois.ceo', None),
	('.cern', 'whois.cern', None),
	('.channel', 'whois.channel', None),
	('.cheap', 'whois.cheap', None),
	('.christmas', 'whois.christmas', None),
	('.chrome', 'whois.chrome', None),
	('.church', 'whois.church', None),
	('.citic', 'whois.citic', None),
	('.city', 'whois.city', None),
	('.claims', 'whois.claims', None),
	('.cleaning', 'whois.cleaning', None),
	('.click', 'whois.click', None),
	('.clinic', 'whois.clinic', None),
	('.clothing', 'whois.clothing', None),
	('.club', 'whois.club', None),
	('.codes', 'whois.codes', None),
	('.coffee', 'whois.coffee', None),
	('.college', 'whois.college', None),
	('.cologne', 'whois.cologne', None),
	('.com', 'whois.com', None),
	('.community', 'whois.community', None),
	('.company', 'whois.company', None),
	('.computer', 'whois.computer', None),
	('.condos', 'whois.condos', None),
	('.construction', 'whois.construction', None),
	('.consulting', 'whois.consulting', None),
	('.contractors', 'whois.contractors', None),
	('.cooking', 'whois.cooking', None),
	('.cool', 'whois.cool', None),
	('.country', 'whois.country', None),
	('.credit', 'whois.credit', None),
	('.creditcard', 'whois.creditcard', None),
	('.crs', 'whois.crs', None),
	('.cruises', 'whois.cruises', None),
	('.cuisinella', 'whois.cuisinella', None),
	('.cymru', 'whois.cymru', None),
	('.dad', 'whois.dad', None),
	('.dance', 'whois.dance', None),
	('.dating', 'whois.dating', None),
	('.day', 'whois.day', None),
	('.deals', 'whois.deals', None),
	('.degree', 'whois.degree', None),
	('.delivery', 'whois.delivery', None),
	('.democrat', 'whois.democrat', None),
	('.dental', 'whois.dental', None),
	('.dentist', 'whois.dentist', None),
	('.desi', 'whois.desi', None),
	('.diamonds', 'whois.diamonds', None),
	('.diet', 'whois.diet', None),
	('.digital', 'whois.digital', None),
	('.direct', 'whois.direct', None),
	('.directory', 'whois.directory', None),
	('.discount', 'whois.discount', None),
	('.dnp', 'whois.dnp', None),
	('.domains', 'whois.domains', None),
	('.durban', 'whois.durban', None),
	('.dvag', 'whois.dvag', None),
	('.eat', 'whois.eat', None),
	('.education', 'whois.education', None),
	('.email', 'whois.email', None),
	('.emerck', 'whois.emerck', None),
	('.energy', 'whois.energy', None),
	('.engineer', 'whois.engineer', None),
	('.engineering', 'whois.engineering', None),
	('.enterprises', 'whois.enterprises', None),
	('.equipment', 'whois.equipment', None),
	('.esq', 'whois.esq', None),
	('.estate', 'whois.estate', None),
	('.eus', 'whois.eus', None),
	('.events', 'whois.events', None),
	('.exchange', 'whois.exchange', None),
	('.expert', 'whois.expert', None),
	('.exposed', 'whois.exposed', None),
	('.fail', 'whois.fail', None),
	('.farm', 'whois.farm', None),
	('.feedback', 'whois.feedback', None),
	('.finance', 'whois.finance', None),
	('.financial', 'whois.financial', None),
	('.fish', 'whois.fish', None),
	('.fishing', 'whois.fishing', None),
	('.fitness', 'whois.fitness', None),
	('.flights', 'whois.flights', None),
	('.florist', 'whois.florist', None),
	('.flsmidth', 'whois.flsmidth', None),
	('.fly', 'whois.fly', None),
	('.foo', 'whois.foo', None),
	('.forsale', 'whois.forsale', None),
	('.foundation', 'whois.foundation', None),
	('.frl', 'whois.frl', None),
	('.frogans', 'whois.frogans', None),
	('.fund', 'whois.fund', None),
	('.furniture', 'whois.furniture', None),
	('.futbol', 'whois.futbol', None),
	('.gal', 'whois.gal', None),
	('.gallery', 'whois.gallery', None),
	('.gbiz', 'whois.gbiz', None),
	('.gent', 'whois.gent', None),
	('.gift', 'whois.gift', None),
	('.gifts', 'whois.gifts', None),
	('.gives', 'whois.gives', None),
	('.glass', 'whois.glass', None),
	('.gle', 'whois.gle', None),
	('.global', 'whois.global', None),
	('.globo', 'whois.globo', None),
	('.gmail', 'whois.gmail', None),
	('.gmo', 'whois.gmo', None),
	('.gmx', 'whois.gmx', None),
	('.google', 'whois.google', None),
	('.gop', 'whois.gop', None),
	('.graphics', 'whois.graphics', None),
	('.gratis', 'whois.gratis', None),
	('.green', 'whois.green', None),
	('.gripe', 'whois.gripe', None),
	('.guide', 'whois.guide', None),
	('.guitars', 'whois.guitars', None),
	('.guru', 'whois.guru', None),
	('.hamburg', 'whois.hamburg', None),
	('.haus', 'whois.haus', None),
	('.healthcare', 'whois.healthcare', None),
	('.help', 'whois.help', None),
	('.here', 'whois.here', None),
	('.hiphop', 'whois.hiphop', None),
	('.hiv', 'whois.hiv', None),
	('.holdings', 'whois.holdings', None),
	('.holiday', 'whois.holiday', None),
	('.homes', 'whois.homes', None),
	('.horse', 'whois.horse', None),
	('.host', 'whois.host', None),
	('.hosting', 'whois.hosting', None),
	('.house', 'whois.house', None),
	('.how', 'whois.how', None),
	('.ibm', 'whois.ibm', None),
	('.immo', 'whois.immo', None),
	('.immobilien', 'whois.immobilien', None),
	('.industries', 'whois.industries', None),
	('.info', 'whois.info', None),
	('.ing', 'whois.ing', None),
	('.ink', 'whois.ink', None),
	('.institute', 'whois.institute', None),
	('.insure', 'whois.insure', None),
	('.international', 'whois.international', None),
	('.investments', 'whois.investments', None),
	('.jetzt', 'whois.jetzt', None),
	('.joburg', 'whois.joburg', None),
	('.juegos', 'whois.juegos', None),
	('.kaufen', 'whois.kaufen', None),
	('.kim', 'whois.kim', None),
	('.kitchen', 'whois.kitchen', None),
	('.kiwi', 'whois.kiwi', None),
	('.koeln', 'whois.koeln', None),
	('.krd', 'whois.krd', None),
	('.kred', 'whois.kred', None),
	('.lacaixa', 'whois.lacaixa', None),
	('.land', 'whois.land', None),
	('.lawyer', 'whois.lawyer', None),
	('.lease', 'whois.lease', None),
	('.lgbt', 'whois.lgbt', None),
	('.life', 'whois.life', None),
	('.lighting', 'whois.lighting', None),
	('.limited', 'whois.limited', None),
	('.limo', 'whois.limo', None),
	('.link', 'whois.link', None),
	('.loans', 'whois.loans', None),
	('.london', 'whois.london', None),
	('.lotto', 'whois.lotto', None),
	('.ltda', 'whois.ltda', None),
	('.luxe', 'whois.luxe', None),
	('.luxury', 'whois.luxury', None),
	('.maison', 'whois.maison', None),
	('.management', 'whois.management', None),
	('.mango', 'whois.mango', None),
	('.market', 'whois.market', None),
	('.marketing', 'whois.marketing', None),
	('.media', 'whois.media', None),
	('.meet', 'whois.meet', None),
	('.melbourne', 'whois.melbourne', None),
	('.meme', 'whois.meme', None),
	('.menu', 'whois.menu', None),
	('.miami', 'whois.miami', None),
	('.mini', 'whois.mini', None),
	('.moda', 'whois.moda', None),
	('.moe', 'whois.moe', None),
	('.monash', 'whois.monash', None),
	('.mortgage', 'whois.mortgage', None),
	('.moscow', 'whois.moscow', None),
	('.motorcycles', 'whois.motorcycles', None),
	('.mov', 'whois.mov', None),
	('.nagoya', 'whois.nagoya', None),
	('.navy', 'whois.navy', None),
	('.net', 'whois.net', None),
	('.network', 'whois.network', None),
	('.neustar', 'whois.neustar', None),
	('.new', 'whois.new', None),
	('.nexus', 'whois.nexus', None),
	('.ngo', 'whois.ngo', None),
	('.nhk', 'whois.nhk', None),
	('.ninja', 'whois.ninja', None),
	('.nra', 'whois.nra', None),
	('.nrw', 'whois.nrw', None),
	('.nyc', 'whois.nyc', None),
	('.okinawa', 'whois.okinawa', None),
	('.ong', 'whois.ong', None),
	('.onl', 'whois.onl', None),
	('.ooo', 'whois.ooo', None),
	('.org', 'whois.org', None),
	('.organic', 'whois.organic', None),
	('.otsuka', 'whois.otsuka', None),
	('.ovh', 'whois.ovh', None),
	('.paris', 'whois.paris', None),
	('.partners', 'whois.partners', None),
	('.parts', 'whois.parts', None),
	('.pharmacy', 'whois.pharmacy', None),
	('.photo', 'whois.photo', None),
	('.photography', 'whois.photography', None),
	('.photos', 'whois.photos', None),
	('.physio', 'whois.physio', None),
	('.pics', 'whois.pics', None),
	('.pictures', 'whois.pictures', None),
	('.pink', 'whois.pink', None),
	('.pizza', 'whois.pizza', None),
	('.place', 'whois.place', None),
	('.plumbing', 'whois.plumbing', None),
	('.pohl', 'whois.pohl', None),
	('.poker', 'whois.poker', None),
	('.praxi', 'whois.praxi', None),
	('.press', 'whois.press', None),
	('.prod', 'whois.prod', None),
	('.productions', 'whois.productions', None),
	('.prof', 'whois.prof', None),
	('.properties', 'whois.properties', None),
	('.property', 'whois.property', None),
	('.pub', 'whois.pub', None),
	('.qpon', 'whois.qpon', None),
	('.quebec', 'whois.quebec', None),
	('.realtor', 'whois.realtor', None),
	('.recipes', 'whois.recipes', None),
	('.red', 'whois.red', None),
	('.rehab', 'whois.rehab', None),
	('.reise', 'whois.reise', None),
	('.reisen', 'whois.reisen', None),
	('.ren', 'whois.ren', None),
	('.rentals', 'whois.rentals', None),
	('.repair', 'whois.repair', None),
	('.report', 'whois.report', None),
	('.republican', 'whois.republican', None),
	('.rest', 'whois.rest', None),
	('.restaurant', 'whois.restaurant', None),
	('.reviews', 'whois.reviews', None),
	('.rich', 'whois.rich', None),
	('.rio', 'whois.rio', None),
	('.rip', 'whois.rip', None),
	('.rocks', 'whois.rocks', None),
	('.rodeo', 'whois.rodeo', None),
	('.rsvp', 'whois.rsvp', None),
	('.ruhr', 'whois.ruhr', None),
	('.ryukyu', 'whois.ryukyu', None),
	('.saarland', 'whois.saarland', None),
	('.sarl', 'whois.sarl', None),
	('.sca', 'whois.sca', None),
	('.scb', 'whois.scb', None),
	('.schmidt', 'whois.schmidt', None),
	('.schule', 'whois.schule', None),
	('.scot', 'whois.scot', None),
	('.services', 'whois.services', None),
	('.sexy', 'whois.sexy', None),
	('.shiksha', 'whois.shiksha', None),
	('.shoes', 'whois.shoes', None),
	('.singles', 'whois.singles', None),
	('.social', 'whois.social', None),
	('.software', 'whois.software', None),
	('.sohu', 'whois.sohu', None),
	('.solar', 'whois.solar', None),
	('.solutions', 'whois.solutions', None),
	('.soy', 'whois.soy', None),
	('.space', 'whois.space', None),
	('.spiegel', 'whois.spiegel', None),
	('.supplies', 'whois.supplies', None),
	('.supply', 'whois.supply', None),
	('.support', 'whois.support', None),
	('.surf', 'whois.surf', None),
	('.surgery', 'whois.surgery', None),
	('.suzuki', 'whois.suzuki', None),
	('.sydney', 'whois.sydney', None),
	('.systems', 'whois.systems', None),
	('.taipei', 'whois.taipei', None),
	('.tatar', 'whois.tatar', None),
	('.tattoo', 'whois.tattoo', None),
	('.tax', 'whois.tax', None),
	('.technology', 'whois.technology', None),
	('.tienda', 'whois.tienda', None),
	('.tips', 'whois.tips', None),
	('.tirol', 'whois.tirol', None),
	('.today', 'whois.today', None),
	('.tokyo', 'whois.tokyo', None),
	('.tools', 'whois.tools', None),
	('.top', 'whois.top', None),
	('.town', 'whois.town', None),
	('.toys', 'whois.toys', None),
	('.trade', 'whois.trade', None),
	('.training', 'whois.training', None),
	('.tui', 'whois.tui', None),
	('.university', 'whois.university', None),
	('.uno', 'whois.uno', None),
	('.uol', 'whois.uol', None),
	('.vacations', 'whois.vacations', None),
	('.vegas', 'whois.vegas', None),
	('.ventures', 'whois.ventures', None),
	('.versicherung', 'whois.versicherung', None),
	('.vet', 'whois.vet', None),
	('.viajes', 'whois.viajes', None),
	('.villas', 'whois.villas', None),
	('.vision', 'whois.vision', None),
	('.vlaanderen', 'whois.vlaanderen', None),
	('.vodka', 'whois.vodka', None),
	('.vote', 'whois.vote', None),
	('.voting', 'whois.voting', None),
	('.voto', 'whois.voto', None),
	('.voyage', 'whois.voyage', None),
	('.wales', 'whois.wales', None),
	('.wang', 'whois.wang', None),
	('.watch', 'whois.watch', None),
	('.webcam', 'whois.webcam', None),
	('.website', 'whois.website', None),
	('.wed', 'whois.wed', None),
	('.wedding', 'whois.wedding', None),
	('.whoswho', 'whois.whoswho', None),
	('.wien', 'whois.wien', None),
	('.wiki', 'whois.wiki', None),
	('.williamhill', 'whois.williamhill', None),
	('.wme', 'whois.wme', None),
	('.work', 'whois.work', None),
	('.works', 'whois.works', None),
	('.world', 'whois.world', None),
	('.wtc', 'whois.wtc', None),
	('.wtf', 'whois.wtf', None),
	('.xyz', 'whois.xyz', None),
	('.yachts', 'whois.yachts', None),
	('.yandex', 'whois.yandex', None),
	('.yoga', 'whois.yoga', None),
	('.yokohama', 'whois.yokohama', None),
	('.youtube', 'whois.youtube', None),
	('.zip', 'whois.zip', None),
	('.zone', 'whois.zone', None),
]

def whois_request(domain, server, port=43):
	sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	sock.connect((server, port))
	sock.send(("%s\r\n" % domain).encode("utf-8"))
	buff = b""
	while True:
		data = sock.recv(1024)
		if len(data) == 0:
			break
		buff += data
	return buff.decode("utf-8")

#print whois_request("baidu.com","whois.verisign-grs.com")
def whois(domain):
    r = domain.rindex(".")
    houz = domain[r:]
    for data in TLDS:
        if data[0] == houz:
            return whois_request(domain,data[1])
    return ""

